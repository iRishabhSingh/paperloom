generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              String        @id @default(uuid())
  role            String        @default("USER") 
  email           String        @unique
  username        String        @unique
  firstName       String
  middleName      String?       
  lastName        String
  name            String        @default("")
  country         String?       
  isoCode         String?       
  phone           String?
  passwordHash    String
  emailVerified   Boolean       @default(false)

  twoFAEnabled    Boolean       @default(false)
  twoFASecret     String?       // Stored as base32, encrypted (TOTP)

  darkMode        DarkMode      @default(AUTO)         // Dark mode setting (AUTO/ON/OFF)
  contrastMode    ContrastMode  @default(BASIC)        // Contrast mode setting (BASIC/MEDIUM/HIGH)
  theme           Theme         @default(CLASSIC)      // User's selected color theme

  profileImageUrl String?       
  status          UserStatus    @default(OFFLINE)
  accountStatus   AccountStatus @default(ACTIVE)

  region          String        
  shardKey        String?       

  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
}

enum Role {
  USER
  ADMIN
}

enum UserStatus {
  ONLINE
  OFFLINE
  AWAY
  DO_NOT_DISTURB
}

enum AccountStatus {
  ACTIVE
  SUSPENDED
  DISABLED
  DELETED
}

enum ContrastMode {
  BASIC
  MEDIUM
  HIGH
}

enum DarkMode {
  OFF
  ON
  AUTO
}

enum Theme {
  CLASSIC
}